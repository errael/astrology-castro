#!/bin/bash

CMD=${0##*/}
DIR=${0%/*}

. $DIR/COMMON

exit_msg() {
    echo "target: $CASTRO_TABLES/AstrologConstants.java" >&2
}

extract() {
    sed -E \
        -e 's/\{("[^"]*"),[[:blank:]]([-_[:alnum:]]+)\}/\1 \/*\2*\//g' \
        -e 's/CONST +char +\*([_[:alnum:]]+)[][[:alnum:]+]+/public static final String \1[]/' \
        -e 's/CONST +StrLook/public static final String/'
}

cat <<"CODE"
// This file is generated by a script: scipts/extract_constants
// from astrolog's data.cpp which is copyrighted by:
// Walter D. Pullen (Astara@msn.com, http://www.astrolog.org/astrolog.htm)

package com.raelity.astrolog.castro.tables;

public class AstrologConstants
{
private AstrologConstants() { }


CODE

extract

cat <<"CODE"

}
CODE

exit_msg

#sed -E -e 's/\{("[^"]+"),[[:blank:]]([_[:alpha:]]+)\}/{\1 , 0 \/*\2*\/}/g'

#sed -E -e 's/\{("[^"]+")/\1/g'
